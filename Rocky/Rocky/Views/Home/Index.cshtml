@model Rocky.Models.ViewModels.HomeVM

@{
    ViewData["Title"] = "Home Page";
}

<div class="container">

    <div class="text-center mb-3">

        <button class="btn btn-dark filter-button" style="" data-filter="all">All</button>

        @foreach (var cat in Model.Categories)
        {
            <button class="btn btn-outline-secondary filter-button" data-filter="@cat.Name.Replace(' ', '_')">
                @cat.Name
            </button>
        }

    </div>

    <div class="mb-3 row">

        @foreach (var prod in Model.Products)
        {
            <partial name="_IndividualProductCard" model="prod" />
        }

    </div>

</div>

@section Scripts {
    <script>
        $(document).ready(function () {
            $(".filter-button").click(function () {
                //alert($(this).attr('data-filter'));

                var value = $(this).attr('data-filter');
                if (value == "all") {
                    $(".filter").show("1000");
                }
                else {
                    $(".filter").not("." + value).hide("3000");
                    $(".filter").filter("." + value).show("3000");
                }
            });
        });
    </script>
}